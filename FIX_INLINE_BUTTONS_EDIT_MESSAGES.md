# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –∏–Ω–ª–∞–π–Ω –∫–Ω–æ–ø–æ–∫ - —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–º–µ—Å—Ç–æ –Ω–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π

## –ü—Ä–æ–±–ª–µ–º–∞

–ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ –∏–Ω–ª–∞–π–Ω –∫–Ω–æ–ø–∫–∏ –±–æ—Ç —É–¥–∞–ª—è–ª —Å—Ç–∞—Ä–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–ª –Ω–æ–≤–æ–µ. –≠—Ç–æ –≤—ã–≥–ª—è–¥–µ–ª–æ –Ω–µ–∫—Ä–∞—Å–∏–≤–æ - —Å–æ–æ–±—â–µ–Ω–∏–µ "–ø—Ä—ã–≥–∞–ª–æ", —Ñ–æ—Ç–æ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–ª–æ—Å—å.

## –†–µ—à–µ–Ω–∏–µ

–¢–µ–ø–µ—Ä—å –±–æ—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ - –º–µ–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç/caption –∏ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞, —Ñ–æ—Ç–æ –æ—Å—Ç–∞–µ—Ç—Å—è —Ç–µ–º –∂–µ.

## –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ `edit_with_brand()`

### –ë—ã–ª–æ:
```python
async def edit_with_brand(...):
    # –í—Å–µ–≥–¥–∞ —É–¥–∞–ª—è–ª–æ —Å—Ç–∞—Ä–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
    await msg.delete()
    # –ò –æ—Ç–ø—Ä–∞–≤–ª—è–ª–æ –Ω–æ–≤–æ–µ
    await send_with_brand(...)
```

### –°—Ç–∞–ª–æ:
```python
async def edit_with_brand(...):
    # –ï—Å–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å —Ñ–æ—Ç–æ - —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º caption
    if msg.photo:
        await msg.edit_caption(
            caption=text,
            reply_markup=reply_markup,
            parse_mode=parse_mode
        )
    
    # –ï—Å–ª–∏ —Ç–µ–∫—Å—Ç–æ–≤–æ–µ - —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º text
    elif msg.text:
        await msg.edit_text(
            text=text,
            reply_markup=reply_markup,
            parse_mode=parse_mode
        )
    
    # Fallback –Ω–∞ delete+send —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫
```

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

‚úÖ **–ü–ª–∞–≤–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã** - —Ç–µ–∫—Å—Ç –º–µ–Ω—è–µ—Ç—Å—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ, –±–µ–∑ "–ø—Ä—ã–∂–∫–æ–≤"  
‚úÖ **–§–æ—Ç–æ –Ω–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è** - –æ—Å—Ç–∞–µ—Ç—Å—è —Ç–æ –∂–µ —Å–∞–º–æ–µ  
‚úÖ **–ú–µ–Ω—å—à–µ –Ω–∞–≥—Ä—É–∑–∫–∏** - –Ω–µ –Ω—É–∂–Ω–æ —É–¥–∞–ª—è—Ç—å –∏ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –Ω–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ  
‚úÖ **–õ—É—á—à–∏–π UX** - –≤—ã–≥–ª—è–¥–∏—Ç –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ  
‚úÖ **–†–∞–±–æ—Ç–∞–µ—Ç —Å –∏—Å—Ç–æ—Ä–∏–µ–π** - –º–æ–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞–∑–∞–¥ —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫–∏  

## –ì–¥–µ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

–í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∏–Ω–ª–∞–π–Ω –∫–Ω–æ–ø–æ–∫, –∫–æ—Ç–æ—Ä—ã–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç `edit_with_brand()`:

### –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é –∏ –Ω–∞–≤–∏–≥–∞—Ü–∏—è:
- –ü–µ—Ä–µ—Ö–æ–¥—ã –º–µ–∂–¥—É —Ä–∞–∑–¥–µ–ª–∞–º–∏ (–ü—Ä–æ—Ñ–∏–ª—å, –°–µ—Ä–≤–∏—Å—ã, –ù–∞—Å—Ç–∞–≤–Ω–∏–∫–∏ –∏ —Ç.–¥.)
- –í–æ–∑–≤—Ä–∞—Ç –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
- –ü–∞–≥–∏–Ω–∞—Ü–∏—è (–ª–∏—Å—Ç–∞–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü)

### –ü—Ä–æ—Ñ–∏–ª—å:
- –ü—Ä–æ—Å–º–æ—Ç—Ä –ø—Ä–æ—Ñ–∏–ª—è
- –ò—Å—Ç–æ—Ä–∏—è –ø—Ä–æ—Ñ–∏—Ç–æ–≤ (–ª–∏—Å—Ç–∞–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü)
- –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞

### –ù–∞—Å—Ç–∞–≤–Ω–∏–∫–∏:
- –í—ã–±–æ—Ä –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- –°–ø–∏—Å–æ–∫ –Ω–∞—Å—Ç–∞–≤–Ω–∏–∫–æ–≤ –ø–æ —Å–µ—Ä–≤–∏—Å—É
- –î–µ—Ç–∞–ª–∏ –Ω–∞—Å—Ç–∞–≤–Ω–∏–∫–∞
- –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –≤—ã–±–æ—Ä–∞

### –°–µ—Ä–≤–∏—Å—ã:
- –°–ø–∏—Å–æ–∫ —Å–µ—Ä–≤–∏—Å–æ–≤
- –î–µ—Ç–∞–ª–∏ —Å–µ—Ä–≤–∏—Å–∞
- –í–æ–∑–≤—Ä–∞—Ç –∫ —Å–ø–∏—Å–∫—É

### –°–º–µ–Ω–∞ —Ç–µ–≥–∞:
- –ú–µ–Ω—é —Å–º–µ–Ω—ã —Ç–µ–≥–∞
- –í–≤–æ–¥ –Ω–æ–≤–æ–≥–æ —Ç–µ–≥–∞
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–ª—É—á–∞–π–Ω—ã—Ö —Ç–µ–≥–æ–≤
- –í—ã–±–æ—Ä —Ç–µ–≥–∞
- –í–æ–∑–≤—Ä–∞—Ç –∫ –ø—Ä–æ—Ñ–∏–ª—é

### –ö–æ–º—å—é–Ω–∏—Ç–∏:
- –°–ø–∏—Å–æ–∫ –∫–æ–º—å—é–Ω–∏—Ç–∏
- –î–µ—Ç–∞–ª–∏ –∫–æ–º—å—é–Ω–∏—Ç–∏
- –í—Å—Ç—É–ø–ª–µ–Ω–∏–µ/–≤—ã—Ö–æ–¥

### –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å:
- –í—Å–µ –ø–µ—Ä–µ—Ö–æ–¥—ã –≤ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏—Ç–æ–≤
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏

### –ü–∞–Ω–µ–ª—å –Ω–∞—Å—Ç–∞–≤–Ω–∏–∫–∞:
- –°–ø–∏—Å–æ–∫ —Å—Ç—É–¥–µ–Ω—Ç–æ–≤ (–ø–∞–≥–∏–Ω–∞—Ü–∏—è)
- –†–∞—Å—Å—ã–ª–∫–∏
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:

1. **TelegramBadRequest** - –µ—Å–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å–ª–∏—à–∫–æ–º —Å—Ç–∞—Ä–æ–µ –∏–ª–∏ –∫–æ–Ω—Ç–µ–Ω—Ç –Ω–µ –∏–∑–º–µ–Ω–∏–ª—Å—è:
   - Fallback –Ω–∞ delete+send

2. **–ù–µ—Ç —Ñ–æ—Ç–æ –∏ —Ç–µ–∫—Å—Ç–∞** - –µ—Å–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ:
   - Fallback –Ω–∞ delete+send

3. **–õ—é–±–∞—è –¥—Ä—É–≥–∞—è –æ—à–∏–±–∫–∞**:
   - –õ–æ–≥–∏—Ä—É–µ—Ç—Å—è –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è False

### –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:

–§—É–Ω–∫—Ü–∏—è –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ–±—Ä–∞—Ç–Ω–æ —Å–æ–≤–º–µ—Å—Ç–∏–º–∞ - –≤–µ—Å—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π.

## –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

- `mainbot/utils/messages.py`

## –†–µ–∑—É–ª—å—Ç–∞—Ç

–¢–µ–ø–µ—Ä—å –Ω–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –±–æ—Ç—É –≤—ã–≥–ª—è–¥–∏—Ç –ø–ª–∞–≤–Ω–æ –∏ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ - –∫–∞–∫ –≤ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö! üé®‚ú®

## –ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã

**–ë—ã–ª–æ:**
```
[–°–æ–æ–±—â–µ–Ω–∏–µ —Å —Ñ–æ—Ç–æ]
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç –∫–Ω–æ–ø–∫—É
[–°–æ–æ–±—â–µ–Ω–∏–µ —É–¥–∞–ª—è–µ—Ç—Å—è]
[–ù–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è]
[–§–æ—Ç–æ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∑–∞–Ω–æ–≤–æ]
```

**–°—Ç–∞–ª–æ:**
```
[–°–æ–æ–±—â–µ–Ω–∏–µ —Å —Ñ–æ—Ç–æ]
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç –∫–Ω–æ–ø–∫—É
[–¢–µ–∫—Å—Ç –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –º–µ–Ω—è–µ—Ç—Å—è]
[–§–æ—Ç–æ –æ—Å—Ç–∞–µ—Ç—Å—è —Ç–µ–º –∂–µ]
[–ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è]
```
