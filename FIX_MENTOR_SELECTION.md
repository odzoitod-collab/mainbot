# –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –í–´–ë–û–†–ê –ù–ê–°–¢–ê–í–ù–ò–ö–ê

## ‚úÖ –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### 1. –õ–æ–≥–∏–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –Ω–∞—Å—Ç–∞–≤–Ω–∏–∫–∞
**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—ã—Ç–∞–ª–∏—Å—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `mentor` –¥–æ –µ–≥–æ –ø–æ–ª—É—á–µ–Ω–∏—è –≤ `asyncio.gather`

**–†–µ—à–µ–Ω–∏–µ:** –°–Ω–∞—á–∞–ª–∞ –ø–æ–ª—É—á–∞–µ–º –Ω–∞—Å—Ç–∞–≤–Ω–∏–∫–∞, –ø–æ—Ç–æ–º –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –∑–∞–≥—Ä—É–∂–∞–µ–º –æ—Å—Ç–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
```python
# –ë—ã–ª–æ (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ):
mentor, current, channel_info = await asyncio.gather(
    get_mentor(mentor_id),
    get_user_mentor(callback.from_user.id),
    get_mentor_channel_info(mentor.get('user_id') if mentor else None)
)

# –°—Ç–∞–ª–æ (–ø—Ä–∞–≤–∏–ª—å–Ω–æ):
mentor = await get_mentor(mentor_id)
if not mentor:
    return
    
current, channel_info = await asyncio.gather(
    get_user_mentor(callback.from_user.id),
    get_mentor_channel_info(mentor.get('user_id'))
)
```

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ mentor_user_id
–î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ None –≤ `get_mentor_channel_info`:
```python
if not mentor_user_id:
    return None
```

### 3. –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
–¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å –≤—ã–±–æ—Ä–∞ –Ω–∞—Å—Ç–∞–≤–Ω–∏–∫–∞ –≤ –ª–æ–≥–∞—Ö:
```python
logger.info(f"User {callback.from_user.id} selecting mentor {mentor_id}")
logger.info(f"Mentor {mentor_id} found: {mentor.get('full_name')}")
logger.info(f"Got channel info: {channel_info is not None}")
```

### 4. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
–î–æ–±–∞–≤–ª–µ–Ω try-except –¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Å—Ç–∞–≤–Ω–∏–∫–æ–≤ –≤ –±–∞–∑–µ
```bash
python check_mentors.py
```

### –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
```bash
python main.py
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –±–æ—Ç–µ
1. –û—Ç–∫—Ä–æ–π—Ç–µ –±–æ—Ç–∞
2. –ù–∞–∂–º–∏—Ç–µ "üë®üèø‚Äçüè´ –ù–∞—Å—Ç–∞–≤–Ω–∏–∫–∏"
3. –í—ã–±–µ—Ä–∏—Ç–µ —Å–µ—Ä–≤–∏—Å
4. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –Ω–∞—Å—Ç–∞–≤–Ω–∏–∫–∞
5. –î–æ–ª–∂–Ω–∞ –æ—Ç–∫—Ä—ã—Ç—å—Å—è –∫–∞—Ä—Ç–æ—á–∫–∞ –Ω–∞—Å—Ç–∞–≤–Ω–∏–∫–∞

## üìã –ß—Ç–æ –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å

### –ü—Ä–∏ –≤—ã–±–æ—Ä–µ –Ω–∞—Å—Ç–∞–≤–Ω–∏–∫–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è:
- ‚úÖ –ò–º—è –∏ username –Ω–∞—Å—Ç–∞–≤–Ω–∏–∫–∞
- ‚úÖ –°–µ—Ä–≤–∏—Å
- ‚úÖ –ü—Ä–æ—Ü–µ–Ω—Ç –æ—Ç –ø—Ä–æ—Ñ–∏—Ç–∞
- ‚úÖ –†–µ–π—Ç–∏–Ω–≥
- ‚úÖ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—á–µ–Ω–∏–∫–æ–≤
- ‚úÖ –¢–ì–ö –Ω–∞—Å—Ç–∞–≤–Ω–∏–∫–∞ (–µ—Å–ª–∏ —Å–æ–∑–¥–∞–Ω)
- ‚úÖ –ö–Ω–æ–ø–∫–∏ "–í—ã–±—Ä–∞—Ç—å" –∏–ª–∏ "–û—Ç–∫–∞–∑–∞—Ç—å—Å—è"

### –¢–ì–ö –Ω–∞—Å—Ç–∞–≤–Ω–∏–∫–∞
–ï—Å–ª–∏ –Ω–∞—Å—Ç–∞–≤–Ω–∏–∫ —Å–æ–∑–¥–∞–ª Telegram –∫–∞–Ω–∞–ª, –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è:
- üì∫ –ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞–Ω–∞–ª–∞
- üìù –û–ø–∏—Å–∞–Ω–∏–µ
- üîó –°—Å—ã–ª–∫–∞ –Ω–∞ –∫–∞–Ω–∞–ª

## üîç –û—Ç–ª–∞–¥–∫–∞

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞ –∏ —Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏
python main.py

# –ü—Ä–∏ –≤—ã–±–æ—Ä–µ –Ω–∞—Å—Ç–∞–≤–Ω–∏–∫–∞ –¥–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è:
# INFO - User 123456 selecting mentor 8
# INFO - Mentor 8 found: –ò–º—è –Ω–∞—Å—Ç–∞–≤–Ω–∏–∫–∞, user_id: 7691078312
# INFO - Got channel info: True/False
# INFO - Sending mentor detail to user 123456
```

### –ï—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

#### 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –Ω–∞—Å—Ç–∞–≤–Ω–∏–∫ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
```python
from database import init_db, get_mentors
import asyncio

async def check():
    await init_db()
    mentors = await get_mentors()
    for m in mentors:
        print(f"ID: {m['id']}, Name: {m['full_name']}")

asyncio.run(check())
```

#### 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ callback_data
–í –ª–æ–≥–∞—Ö –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:
```
User 123456 selecting mentor 8
```

–ï—Å–ª–∏ –Ω–µ—Ç - –ø—Ä–æ–±–ª–µ–º–∞ –≤ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–µ –∏–ª–∏ —Ä–æ—É—Ç–µ—Ä–µ

#### 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —Ä–æ—É—Ç–µ—Ä –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
–í `main.py` –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:
```python
dp.include_router(user_menu_router)
```

#### 4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–º:
```sql
SELECT id, status FROM users WHERE id = YOUR_USER_ID;
-- status –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å 'active'
```

## üêõ –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### –ö–Ω–æ–ø–∫–∞ –Ω–µ —Ä–µ–∞–≥–∏—Ä—É–µ—Ç
**–ü—Ä–∏—á–∏–Ω–∞:** Callback –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ - –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –æ –≤—ã–±–æ—Ä–µ –Ω–∞—Å—Ç–∞–≤–Ω–∏–∫–∞
2. –ï—Å–ª–∏ –Ω–µ—Ç - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —Ä–æ—É—Ç–µ—Ä –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞

### –û—à–∏–±–∫–∞ "–ù–µ –Ω–∞–π–¥–µ–Ω"
**–ü—Ä–∏—á–∏–Ω–∞:** –ù–∞—Å—Ç–∞–≤–Ω–∏–∫ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏–ª–∏ –Ω–µ–∞–∫—Ç–∏–≤–µ–Ω

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ ID –Ω–∞—Å—Ç–∞–≤–Ω–∏–∫–∞ –≤ –±–∞–∑–µ
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ `is_active = true`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –Ω–∞—Å—Ç–∞–≤–Ω–∏–∫ –≤ —Ç–∞–±–ª–∏—Ü–µ `mentors`

### –¢–ì–ö –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
**–ü—Ä–∏—á–∏–Ω–∞:** –ù–∞—Å—Ç–∞–≤–Ω–∏–∫ –Ω–µ —Å–æ–∑–¥–∞–ª –∫–∞–Ω–∞–ª

**–†–µ—à–µ–Ω–∏–µ:**
1. –≠—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –µ—Å–ª–∏ –∫–∞–Ω–∞–ª –Ω–µ —Å–æ–∑–¥–∞–Ω
2. –ù–∞—Å—Ç–∞–≤–Ω–∏–∫ –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞—Ç—å –∫–∞–Ω–∞–ª —á–µ—Ä–µ–∑ "üë®‚Äçüè´ –ü–∞–Ω–µ–ª—å –Ω–∞—Å—Ç–∞–≤–Ω–∏–∫–∞" ‚Üí "üì∫ –ú–æ–π –¢–ì–ö"

### –î–æ–ª–≥–∞—è –∑–∞–≥—Ä—É–∑–∫–∞
**–ü—Ä–∏—á–∏–Ω–∞:** –ú–µ–¥–ª–µ–Ω–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å Supabase
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω–¥–µ–∫—Å—ã –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
3. –û–ø—Ç–∏–º–∏–∑–∏—Ä—É–π—Ç–µ –∑–∞–ø—Ä–æ—Å—ã

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

### Mentor object
```python
{
    'id': 8,
    'user_id': 7691078312,
    'full_name': '–ò–º—è –Ω–∞—Å—Ç–∞–≤–Ω–∏–∫–∞',
    'username': 'username',
    'service_name': 'Trade WEB',
    'percent': 10,
    'rating': 4.5,
    'students_count': 5,
    'is_active': True
}
```

### Channel info object
```python
{
    'telegram_channel': '–ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞–Ω–∞–ª–∞',
    'channel_description': '–û–ø–∏—Å–∞–Ω–∏–µ',
    'channel_invite_link': 'https://t.me/channel'
}
# –∏–ª–∏ None –µ—Å–ª–∏ –∫–∞–Ω–∞–ª –Ω–µ —Å–æ–∑–¥–∞–Ω
```

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–æ—á–Ω—ã–π —Å–ø–∏—Å–æ–∫

–ü–µ—Ä–µ–¥ —Ç–µ–º –∫–∞–∫ —Å–æ–æ–±—â–∏—Ç—å –æ –ø—Ä–æ–±–ª–µ–º–µ, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

- [ ] –ë–æ—Ç –∑–∞–ø—É—â–µ–Ω –±–µ–∑ –æ—à–∏–±–æ–∫
- [ ] –ù–∞—Å—Ç–∞–≤–Ω–∏–∫–∏ —Å—É—â–µ—Å—Ç–≤—É—é—Ç –≤ –±–∞–∑–µ (`get_mentors()`)
- [ ] –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–∫—Ç–∏–≤–µ–Ω (`status = 'active'`)
- [ ] –†–æ—É—Ç–µ—Ä `user_menu_router` –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
- [ ] –í –ª–æ–≥–∞—Ö –ø–æ—è–≤–ª—è—é—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏—è –æ –≤—ã–±–æ—Ä–µ –Ω–∞—Å—Ç–∞–≤–Ω–∏–∫–∞
- [ ] –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –¥–æ—Å—Ç—É–ø–Ω–∞
- [ ] SQL —Å–∫—Ä–∏–ø—Ç `mentor_panel_system.sql` –≤—ã–ø–æ–ª–Ω–µ–Ω

## üéØ –ò—Ç–æ–≥

–í—ã–±–æ—Ä –Ω–∞—Å—Ç–∞–≤–Ω–∏–∫–∞ —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ:
1. –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –Ω–∞—Å—Ç–∞–≤–Ω–∏–∫–∞
2. –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ
3. –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
4. –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–∞—Ä—Ç–æ—á–∫—É —Å –¢–ì–ö (–µ—Å–ª–∏ –µ—Å—Ç—å)
5. –õ–æ–≥–∏—Ä—É–µ–º –≤—Å–µ –¥–µ–π—Å—Ç–≤–∏—è

–ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ –æ—Å—Ç–∞–ª–∞—Å—å - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –±–æ—Ç–∞ –ø—Ä–∏ –≤—ã–±–æ—Ä–µ –Ω–∞—Å—Ç–∞–≤–Ω–∏–∫–∞!